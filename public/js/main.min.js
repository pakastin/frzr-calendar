!function(){"use strict";function t(t){return document.createTextNode(t)}function e(t){for(var e=arguments,n=document.createElement(t),i=1;i<e.length;i++){var r=e[i];if(null!=r&&!a(n,r)&&"object"==typeof r)for(var s in r)null!=n[s]?n[s]=r[s]:n.setAttribute(s,r[s])}return n}function n(t,e,n,a){this.View=t,this.views=[],this.initData=n,this.skipRender=a,e&&(this.key=e,this.lookup={})}function a(t,e,i){var o=t.el||t,u=e.el||e;if(u instanceof Node){if(i){var h=i;o.insertBefore(u,h)}else o.appendChild(u);e.el!==e&&(e.parent=t)}else if(r(u))a(o,document.createTextNode(u),i);else if(u instanceof Array)for(var l=0;l<u.length;l++)a(o,u[l],i);else{if(!(e instanceof n))return!1;e.parent=t,s(o,e.views)}return!0}function i(t,e){var n=t.el||t,a=e.el||e;n.removeChild(a),a!==e&&(e.parent=null)}function r(t){return"string"==typeof t||"number"===t||"boolean"===t}function s(t,e){for(var n=t.el||t,r=n.firstChild,s=0;s<e.length;s++){var o=e[s],u=o.el||o;r!==u?a(t,o,r):r=r.nextSibling}for(;r;){var h=r.nextSibling;i(n,r),r=h}}function o(t,e,n){for(var a,i=[],r=new Date(t,e,1),s=new Date(t,e+1,0),o=h(r,n),u=l(s,n),f=new Date(o),p=0;u>=f;)p++%7===0&&(a=[],i.push(a)),a.push({date:new Date(f),before:r>f,after:f>s}),f.setDate(f.getDate()+1);return i}function u(t){return t||(t=7),--t}function h(t,e){var n=t.getDay(),a=e?u(n):n,i=new Date(t);return i.setDate(t.getDate()-a),i}function l(t,e){var n=t.getDay(),a=e?6-u(n):6-n,i=new Date(t);return i.setDate(t.getDate()+a),i}n.prototype.update=function(t,e){var n=this.View,a=this.views,r=this.parent,o=this.key,u=this.initData,h=this.skipRender;if(e)var l=[],f=[],p=[];if(o){var c=this.lookup,d={};a.length=t.length;for(var v=0;v<t.length;v++){var y=t[v],w=y[o],g=c[w];g?e&&f.push(g):(g=new n(u,y,v),e&&l.push(g)),a[v]=d[w]=g,g.update&&g.update(y,v)}if(e)for(var w in c)d[w]||(p.push(c[w]),!h&&r&&i(r,c[w]));this.lookup=d}else{if(e)for(var v=t.length;v<a.length;v++){var g=a[v];!h&&r&&i(r,g),p.push(g)}a.length=t.length;for(var v=0;v<t.length;v++){var y=t[v],g=a[v];g?e&&f.push(g):(g=new n(u,y,v),e&&l.push(g)),g.update&&g.update(y,v),a[v]=g}}!h&&r&&s(r,a),e&&e(l,f,p)};var f="Su Mo Tu We Th Fr Sa".split(" "),p="January February March April May June July August September October November December".split(" "),c=function(){this.el=e("td")};c.prototype.update=function(t){this.el.textContent=t};var d=function(){this.el=e("td")};d.prototype.update=function(t){this.el.className="day"+(t.before?" before":t.after?" after":""),this.el.textContent=t.date.getDate()};var v=function(){this.el=e("tr",this.days=new n(d))};v.prototype.update=function(t){this.days.update(t)};var y=function(){var a=this;this.el=e("div",{"class":"calendar"},this.month=e("p",{"class":"month"},this.previousMonth=e("a",{"class":"previous"},"←"),this.monthName=t("")," ",this.year=t(""),this.nextMonth=e("a",{"class":"next"},"→")),this.table=e("table",e("thead",this.weekdays=new n(c)),e("tbody",this.weeks=new n(v)))),this.previousMonth.onclick=function(){a.update(a.state.year,--a.state.month,a.state.fixMonday)},this.nextMonth.onclick=function(){a.update(a.state.year,++a.state.month,a.state.fixMonday)}};y.prototype.update=function(t,e,n){var a=new Date(t||(new Date).getFullYear(),e||(new Date).getMonth());this.state={year:a.getFullYear(),month:a.getMonth(),fixMonday:n},n?this.weekdays.update(f.slice(1).concat(f[0])):this.weekdays.update(f),this.monthName.textContent=p[this.state.month],this.year.textContent=this.state.year,this.weeks.update(o(this.state.year,this.state.month,n))};var w=new y;w.update();var g=new y;g.update(null,null,!0),a(document.body,w),a(document.body,g)}();