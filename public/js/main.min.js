!function(){"use strict";function t(t){return document.createTextNode(t)}function e(t){for(var e=arguments,n=document.createElement(t),i=1;i<e.length;i++){var r=e[i];if(null!=r&&!a(n,r)&&"object"==typeof r)for(var s in r)null!=n[s]?n[s]=r[s]:n.setAttribute(s,r[s])}return n}function n(t,e,n,a){this.View=t,this.views=[],this.initData=n,this.skipRender=a,e&&(this.key=e,this.lookup={})}function a(t,e,i){var s=t.el||t,o=e.el||e;if(o instanceof Node){if(i){var h=i;s.insertBefore(o,h)}else s.appendChild(o);e.el!==e&&(e.parent=t)}else if("string"==typeof o||"number"==typeof o)a(s,document.createTextNode(o),i);else if(o instanceof Array)for(var u=0;u<o.length;u++)a(s,o[u],i);else{if(!(e instanceof n))return!1;e.parent=t,r(s,e.views)}return!0}function i(t,e){var n=t.el||t,a=e.el||e;n.removeChild(a),a!==e&&(e.parent=null)}function r(t,e){for(var n=t.el||t,r=n.firstChild,s=0;s<e.length;s++){var o=e[s],h=o.el||o;r!==h?a(t,o,r):r=r.nextSibling}for(;r;){var u=r.nextSibling;i(n,r),r=u}}function s(t,e,n){for(var a,i=[],r=new Date(t,e,1),s=new Date(t,e+1,0),o=h(r,n),l=u(s,n),f=new Date(o),p=0;l>=f;)p++%7===0&&(a=[],i.push(a)),a.push({date:new Date(f),before:r>f,after:f>s}),f.setDate(f.getDate()+1);return i}function o(t){return t||(t=7),--t}function h(t,e){var n=t.getDay(),a=e?o(n):n,i=new Date(t);return i.setDate(t.getDate()-a),i}function u(t,e){var n=t.getDay(),a=e?6-o(n):6-n,i=new Date(t);return i.setDate(t.getDate()+a),i}n.prototype.update=function(t,e){var n=this.View,a=this.views,s=this.parent,o=this.key,h=this.initData,u=this.skipRender;if(e)var l=[],f=[],p=[];if(o){var c=this.lookup,d={};a.length=t.length;for(var v=0;v<t.length;v++){var y=t[v],w=y[o],g=c[w];g?e&&f.push(g):(g=new n(h,y,v),e&&l.push(g)),a[v]=d[w]=g,g.update&&g.update(y,v)}if(e)for(var w in c)d[w]||(p.push(c[w]),!u&&s&&i(s,c[w]));this.lookup=d}else{if(e)for(var v=t.length;v<a.length;v++){var g=a[v];!u&&s&&i(s,g),p.push(g)}a.length=t.length;for(var v=0;v<t.length;v++){var y=t[v],g=a[v];g?e&&f.push(g):(g=new n(h,y,v),e&&l.push(g)),g.update&&g.update(y,v),a[v]=g}}!u&&s&&r(s,a),e&&e(l,f,p)};var l="Su Mo Tu We Th Fr Sa".split(" "),f="January February March April May June July August September October November December".split(" "),p=function(){this.el=e("td")};p.prototype.update=function(t){this.el.textContent=t};var c=function(){this.el=e("td")};c.prototype.update=function(t){this.el.className="day"+(t.before?" before":t.after?" after":""),this.el.textContent=t.date.getDate()};var d=function(){this.el=e("tr",this.days=new n(c))};d.prototype.update=function(t){this.days.update(t)};var v=function(){var a=this;this.el=e("div",{"class":"calendar"},this.month=e("p",{"class":"month"},this.previousMonth=e("a",{"class":"previous"},"←"),this.monthName=t("")," ",this.year=t(""),this.nextMonth=e("a",{"class":"next"},"→")),this.table=e("table",e("thead",this.weekdays=new n(p)),e("tbody",this.weeks=new n(d)))),this.previousMonth.onclick=function(){a.update(a.state.year,--a.state.month,a.state.fixMonday)},this.nextMonth.onclick=function(){a.update(a.state.year,++a.state.month,a.state.fixMonday)}};v.prototype.update=function(t,e,n){var a=new Date(t||(new Date).getFullYear(),e||(new Date).getMonth());this.state={year:a.getFullYear(),month:a.getMonth(),fixMonday:n},n?this.weekdays.update(l.slice(1).concat(l[0])):this.weekdays.update(l),this.monthName.textContent=f[this.state.month],this.year.textContent=this.state.year,this.weeks.update(s(this.state.year,this.state.month,n))};var y=new v;y.update();var w=new v;w.update(null,null,!0),a(document.body,y),a(document.body,w)}();